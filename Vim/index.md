# Vim 学习

> - {n}：代表数字
> - <Esc>：代表键盘按键，以大写开头
> - [x]：字符串

## 命令行

- `:q`：退出 
- `:w [filename]`：保存或另存为 filename 文档
- `:wq/ZZ`：保存退出
- `:q!/ZQ`：不保存退出
- `:w!`：文档只读时，强制写入，需要看权限大小
- `:{n1},{n2} w [filename]`：将 n1 到 n2 的内容存储到 filename 这个文档中
- `:r [filename]`：将另一个文件的内容添加到光标所在行的后面
- `:h`：帮助 in vim
- `:new`：新建文件 in vim

- `<Esc>`：退出输入模式，切换到命令行模式
- `:set nu`：显示行号
- `:set nonu`：取消行号
- `:! [command]`：暂时离开 vim 到指令模式下执行 command 的显示结果。例如 `:! ls /home`
- `<Ctrl+v>`：进入块选择模式，然后移动光标选中你要的行，然后进行你的操作，按两下 Esc 后，vim 会自动将你选中的行都加上对应的操作

## 光标移动

- `i`：在光标所在处开始输入
- `I`：在光标所在行的第一个非空格字符处开始输入
- `a`：在光标所在处的下一个字符处开始输入
- `A`：在光标所在行的最后一个字符处开始输入
- `o/O`：在光标所在行的 `下一行/上一行` 开始输入新的一行
- `r/R`：替换光标所在位置的字符 `一次/一直替换`

- `{n}h/j/k/l`：光标向 `左/下/上/右` 移动 n 个字符。例如 `30j` 是向左移动 30 个字符
- `<Ctrl>+[f/b]`：屏幕向 `下/上` 移动一页
- `<Ctrl>+[d/u]`：屏幕向 `下/上` 移动半页
- `+/-`：光标移动到非空格的 `下/上` 一行
- `{n}<Space>`：光标向右移动 n 个字符
- `{n}<Enter>`：光标向下移动 n 行
- `0/<Home>`：光标移动到所在行的第一个字符处
- `$/<End>`：光标移动到所在行的最后一个字符处
- `H/M/L`：光标移动到这个屏幕的 `最上方/中央/最下方` 所在行的第一个字符
- `{n}G`：移动到文档的第 n 行。`G` 是移动到最后一行
- `gg`：移动到文档的第一行
- `<</>>`：行首`减少/增加`缩进
- `gf`：打开光标所在处的文件

## 搜索替换

- `/[word]`：向下查找名为 word 的字符串

- `?[word]`：向上查找名为 word 的字符串

- `n`：重复上一个搜寻动作

- `N`：反向进行上一个搜寻动作。例如上一个动作是 `向上` 查找，按下 N 后，表示 `向下` 查找

- `:{n1},{n2}s/[word1]/[word2]/g`：在 `n1` 与 `n2` 行内查找 `word1` 字符串，并将该字符串替换为 `wrod2`

- `:%s/[word1]/[word2]/gc`：`word1` 全局替换为 `wrod2`，也可以使用 `:1,$s/[word1]/[word2]/g` 命令。g 全局修饰符，c 用户确认修饰符。

## 删除、复制和贴上

- `{n}x/X`：`向后/向前`删除 n 个字符
- `{n}dd`：从光标所在行起，向下删除 n 行。默认删除光标所在行
- `d1G`：删除光标所在行到第一行的所有内容
- `dG`：删除光标所在行到最后一行的所有内容
- `d$`：删除光标所在处到行尾的内容
- `d0`：删除光标所在处到行首的内容
- `{n}yy`：从光标所在行起，向下复制 n 行。默认复制光标所在行
- `y1G`：复制光标所在行到第一行的所有内容
- `yG`：复制光标所在行到最后一行的所有内容
- `y$`：复制光标所在处到行尾的内容
- `y0`：复制光标所在处到行首的内容
- `{n}p/P`：将已复制的内容贴在光标的 `下 n 行/上 n 行`
- `J`：将光标所在行与下一行的数据合并成一行
- `{n}cj`：删除 n 行内容
- `u`：撤销上一个动作
- `<Ctrl>+r`：重做上一个动作
- `.`：按键是小数点，重复之前的一个动作